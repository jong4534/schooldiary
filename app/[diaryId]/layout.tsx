import type { Metadata } from "next";
import { AppSidebar } from "@/components/app-sidebar"; // âœ… ì•± ì‚¬ì´ë“œë°” ì»´í¬ë„ŒíŠ¸ ê°€ì ¸ì˜¤ê¸°
import { MenuProvider } from "@/context/MenuContext"; // âœ… ë©”ë‰´ ì»¨í…ìŠ¤íŠ¸ ì œê³µ
import {
  SidebarInset,
  SidebarProvider,
  SidebarTrigger,
} from "@/components/ui/sidebar"; // âœ… ì‚¬ì´ë“œë°” ê´€ë ¨ UI
import { Separator } from "@/components/ui/separator"; // âœ… êµ¬ë¶„ì„  UI
import HeaderBreadcrumb from "../components/header-breadcrumb"; // âœ… í—¤ë” ë‚´ Breadcrumb ì»´í¬ë„ŒíŠ¸ ê°€ì ¸ì˜¤ê¸°

// ğŸŒ í˜ì´ì§€ ë©”íƒ€ë°ì´í„° ì„¤ì •
export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

// ğŸ·ï¸ Root Layout ì»´í¬ë„ŒíŠ¸
export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <SidebarProvider>
      {" "}
      {/* âœ… ì‚¬ì´ë“œë°” ê´€ë ¨ ì»¨í…ìŠ¤íŠ¸ ì œê³µ */}
      <AppSidebar /> {/* âœ… ì‚¬ì´ë“œë°” ì¶”ê°€ */}
      <SidebarInset>
        {/* âœ… í—¤ë” ì˜ì—­ */}
        <header className="flex h-16 shrink-0 items-center gap-2 border-b bg-white">
          <div className="flex items-center gap-2 px-3">
            <SidebarTrigger /> {/* âœ… ì‚¬ì´ë“œë°” í† ê¸€ ë²„íŠ¼ */}
            <Separator orientation="vertical" className="mr-2 h-4" />{" "}
            {/* âœ… êµ¬ë¶„ì„  */}
            <HeaderBreadcrumb />{" "}
            {/* âœ… Breadcrumb ì»´í¬ë„ŒíŠ¸ (í˜„ì¬ í˜ì´ì§€ ìœ„ì¹˜ í‘œì‹œ) */}
          </div>
        </header>

        {/* âœ… ë©”ì¸ ì»¨í…ì¸  ì˜ì—­ */}
        <div className="flex flex-1 flex-col gap-4 p-4">
          <MenuProvider>{children}</MenuProvider>{" "}
          {/* âœ… MenuContextë¡œ children ê°ì‹¸ê¸° */}
        </div>
      </SidebarInset>
    </SidebarProvider>
  );
}
